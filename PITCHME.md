# 挫折しないVim入門

Shintaro TANAKA

---

テキストエディタにこだわってますか？

+++

#### 人類はテキストエディタからは逃れられない

- あらゆる業種にPCは必須 |
  - プログラマやデータサイエンティストに関わらない |
- （まぁ一般的な文章に限って言えば音声入力のほうが圧倒的に早いが。。） |
- 大工にとっての工具 = プログラマにとってのテキストエディタ |

---

弘法筆を選ばず

+++

#### 「弘法筆を選ばず」の本当の意味

<div style="float: left; width: 45%;">
    <img src="assets/nigaoe_kuukai.png">
</div>
<br/>
<div style="float: right; width: 55%;">
    <ul>
        <li>弘法が良い筆使ったらもっといいに決まってるだろ！！いい加減にしろ!!</li>
        <li>俺たちは弘法じゃないから良い筆使おう</li>
    </ul>
</div>

---

道具にこだわりをもってテキストエディットしよう！！

---

#### テキストエディタにこだわりを持つと起こる変化

PROS

- あらゆる作業効率が上がる |
- タイピングが早くなる |
- →早く帰ることができる |

CONS

- ないです |

---

#### じゃあテキストエディタ何使えばいいの？

様々な環境で統一感のある快適な作業をするのが最終目的

- 時代は移り変わる |
    - 10数年前 Atom とか SublimeText とか VSCode とかない |
    - 一概に何がいいとは言いづらい |
- キーバインドを覚えるのが汎用性が高い |

---

## Vim

<img src="assets/logo.png">

+++

#### Vimの特徴

- 習得すると早い |
- 習得するとつぶしが利く |
- 行単位の編集に強い
- モードという概念がある |
- 終了 / 保存 にもコマンド打つ必要がある |
- あらゆるエディタにVimやEmacsがプラグインが作られてる(重要) |

+++

IntelliJ / PyCharm にもあります

<img src="assets/ideavim.png">

+++

#### 日常にあふれるVimのキーバインドに触れる

| サービス名| コマンド|
|:-----------|:------------|
| Twitter | j / k |
| Facebook | j / k |
| Google日本語入力 | <全角入力で>zh zj zk zl|

---

## これだけ覚える操作

+++

#### これだけ覚える モード

<img src="assets/mode.png">

- Normalモードがすべて中心
- 素振りのように「何かしたらNormalモードに遷移」を手になじませる

+++
@size[12px](
| キーボード操作| 機能|
|:-----------|:------------|
| ノーマルモードで `i` | インサートモードに遷移 |
| ノーマルモードで `:(コロン)` | コマンドモードに遷移 |
| ノーマルモードで `v` | 選択モードに遷移 |
| ノーマルモードで `V` | 行選択モードに遷移 |
| ノーマルモードで `Ctrl + V` | 矩形選択モードに遷移 |
| あらゆるモードからで `Esc / Ctrl + [ / Ctrl + C` | ノーマルモードに遷移 |
)
+++

#### これだけ覚える カウントとモーション

- モーション…ノーマルモードでカーソルを移動
- カウント… `{数値}{モーション}` で、モーションを数値分繰り返す 

+++

| キーボード操作| 機能|
|:-----------|:------------|
| j | 下にカーソル移動 |
| k | 上にカーソル移動 |
| h | 左にカーソル移動 |
| l (エル) | 右にカーソル移動 |
| w | 次の単語の先頭にカーソル移動 |
| b | 前の単語の先頭にカーソル移動 |
| $ | 行末にカーソル移動|
| ^ | 論理行頭にカーソル移動|

+++

#### これだけ覚える オペレータ

- オペレータ…`{オペレータ}{モーション}` で操作をする
- d, y については `dd`, `yy` で行に対して適用可能

+++

| キーボード操作| 機能|
|:-----------|:------------|
| d | 削除 |
| y | ヤンク(コピー) |
| c | 変更(範囲を削除してインサートモードに入ること) |

+++

#### これだけ覚える アンドゥ・リドゥ・一文字削除

| キーボード操作| 機能|
|:-----------|:------------|
| u | アンドゥ(取り消し) |
| R | リドゥ(取り消しの取り消し) |
| x | カーソル下の一文字を削除 |

---

## Vimの真髄

+++

#### テキストオブジェクト

- `{オペレータ}{テキストオブジェクト}


+++

| キーボード操作| 機能|
|:-----------|:------------|
| iw | カーソル下の単語 |
| aw | カーソル下の単語 |
| i( | ()で囲われたテキスト |
| i" | 'で囲われたテキスト |
| a( | ()で囲われたテキスト(()含む) |
| a" | 'で囲われたテキスト(""含む) |

+++

#### .(ドット)コマンド

直前の変更を繰り返すことができる

- 直前の変更
    - 何か消すとか
    - インサートモード入ってから出るまでとか

+++

テキストオブジェクトと.コマンドを活用した例

```js
var foo = 'foo'
var bar = 'bar'
var ham = 'ham'
var spam = 'spam'
var egg = 'egg'
```

---

まとめるとこんなかんじ

| キーボード操作| 機能| キーボード操作| 機能| キーボード操作| 機能|
|:-----------|:------------|:-----------|:------------|:-----------|:------------|
| ノーマルモードで `i` | インサートモードに遷移 | j | 下にカーソル移動 | u | アンドゥ(取り消し) |
| ノーマルモードで `:(コロン)` | コマンドモードに遷移 | k | 上にカーソル移動 | R | リドゥ(取り消しの取り消し) |
| ノーマルモードで `v` | 選択モードに遷移 | h | 左にカーソル移動 | x | カーソル下の一文字を削除 |
| ノーマルモードで `V` | 行選択モードに遷移 | l (エル) | 右にカーソル移動 | i, a | テキストオブジェクト |
| ノーマルモードで `Ctrl + V` | 矩形選択モードに遷移 | w | 次の単語の先頭にカーソル移動 | . | ドットコマンド |
| あらゆるモードからで `Esc / Ctrl + [ / Ctrl + C` | ノーマルモードに遷移 | b | 前の単語の先頭にカーソル移動 | | |
| d | 削除 | $ | 行末にカーソル移動| | |
| y | ヤンク(コピー) | ^ | 論理行頭にカーソル移動| | |

---

これだけ覚えてあなたもVimmer！

ご清聴ありがとうございました

<br/>

想定質問集

- Vimを覚えるにあたり参考になる入門記事はありますか？
- 習得にどれぐらいかかりますか？
- 覚えたらほんとに効率上がりますか？

---

付録: Vimを覚えるときに参考にする情報源

+++

- vimtutor
- vim-jp Slackグループ
- 実践Vim 思考の速度で編集しよう

+++

vimtutor

- こんなスライドよりまずこれやるべき
- Vim入れるとついてくる
- 日本語訳: mattn, 監修: kaoriya

```sh
$ vimtutor
```

+++

実践Vim 思考の速度で編集しよう

<div style="float: left; width: 45%;">
    <img src="https://images-fe.ssl-images-amazon.com/images/I/51c5qMHV5VL.jpg">
</div>
<br/>
<div style="float: right; width: 55%;">
    <ul>
        <li>こんなスライドよりまずこれやるべき</li>
        <li>紙だとプレミア付いてるけどKindleで買えるMac版Kindle見ながらやるのが勉強するのがオススメ</li>
    </ul>
</div>

+++

巷にあふれる入門記事の見分け方

- ドットコマンド
- テキストオブジェクト

について触れているかどうか

---

付録: ほんとに早いの？

+++

キータイプ数で比較

